<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Scopri quale pietra preziosa rispecchia la tua personalit√† con il nostro quiz interattivo. Trova la gemma perfetta per te!">
  <meta name="keywords" content="quiz pietre preziose, trova la tua gemma, test personalit√† gemme, pietra portafortuna">

  <title>Quiz: Trova la Tua Pietra - Officina Gemmologica di Monica Amato</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/favicon.png">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Hreflang -->
  <link rel="alternate" hreflang="it" href="https://www.officinagemmologica.com/quiz.html">
  <link rel="alternate" hreflang="en" href="https://www.officinagemmologica.com/en/quiz.html">
</head>
<body>
  <!-- Page Loader -->
  <div class="page-loader">
    <div class="loader"></div>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="container">
      <a href="index.html" class="logo">Officina <span>Gemmologica</span> di Monica Amato</a>

      <nav class="nav" id="nav">
        <a href="index.html">Home</a>
        <a href="chi-siamo.html">Chi Siamo</a>
        <a href="servizi.html">Servizi</a>
        <a href="galleria.html">Galleria</a>
        <a href="contatti.html">Contatti</a>
        <a href="faq.html">FAQ</a>
        <div class="lang-switcher">
          <a href="quiz.html" class="active" title="Italiano">IT</a>
          <span>|</span>
          <a href="en/quiz.html" title="English">EN</a>
        </div>
      </nav>

      <div class="menu-toggle" id="menuToggle">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </header>

  <!-- Page Header -->
  <section class="page-header">
    <div class="container">
      <h1>Trova la Tua Pietra</h1>
      <div class="gold-line"></div>
      <p class="subtitle">Scopri quale gemma rispecchia la tua personalit√†</p>
    </div>
  </section>

  <!-- Quiz Section -->
  <section class="section">
    <div class="container">
      <div class="quiz-container" id="quizContainer">
        <div class="quiz-progress">
          <div class="quiz-progress-bar" id="progressBar" style="width: 0%"></div>
        </div>

        <div class="quiz-content" id="quizContent">
          <!-- Le domande vengono caricate via JavaScript -->
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          <a href="index.html" class="logo">Officina <span>Gemmologica</span> di Monica Amato</a>
          <p>Laboratorio artigianale di taglio pietre preziose nel cuore di Roma.</p>
          <div class="footer-social">
            <a href="#" aria-label="Facebook">f</a>
            <a href="#" aria-label="Instagram">&#128247;</a>
            <a href="#" aria-label="WhatsApp">&#128222;</a>
          </div>
        </div>

        <div>
          <h4>Link Rapidi</h4>
          <ul class="footer-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="chi-siamo.html">Chi Siamo</a></li>
            <li><a href="servizi.html">Servizi</a></li>
            <li><a href="galleria.html">Galleria</a></li>
            <li><a href="faq.html">FAQ</a></li>
          </ul>
        </div>

        <div>
          <h4>Scopri</h4>
          <ul class="footer-links">
            <li><a href="quiz.html">Quiz Trova la Pietra</a></li>
            <li><a href="guida-pietre.html">Guida alle Pietre</a></li>
            <li><a href="glossario.html">Glossario</a></li>
            <li><a href="configuratore.html">Configura Gioiello</a></li>
          </ul>
        </div>

        <div>
          <h4>Contatti</h4>
          <ul class="footer-links">
            <li>Centro Storico, Roma</li>
            <li>Tel: +39 06 XXXXXXX</li>
            <li>info@officinagemmologica.com</li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2024 Officina Gemmologica di Monica Amato s.a.s. - Tutti i diritti riservati | <a href="privacy-policy.html">Privacy</a></p>
      </div>
    </div>
  </footer>

  <!-- WhatsApp Button -->
  <a href="https://wa.me/39XXXXXXXXXX?text=Ciao!%20Ho%20fatto%20il%20quiz%20e%20vorrei%20saperne%20di%20pi√π!" class="whatsapp-float" target="_blank" aria-label="Contattaci su WhatsApp">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
    </svg>
    <span class="whatsapp-tooltip">Scrivici su WhatsApp</span>
  </a>

  <!-- JavaScript -->
  <script src="js/main.js"></script>

  <!-- Quiz Logic -->
  <script>
    const quizData = {
      questions: [
        {
          question: "Come descriveresti il tuo stile personale?",
          subtitle: "Scegli quello che ti rappresenta di pi√π",
          options: [
            { icon: "üëë", text: "Elegante e raffinato", value: "ruby" },
            { icon: "üåä", text: "Calmo e sereno", value: "sapphire" },
            { icon: "üåø", text: "Naturale e fresco", value: "emerald" },
            { icon: "‚ú®", text: "Luminoso e brillante", value: "diamond" }
          ]
        },
        {
          question: "Qual √® il tuo colore preferito?",
          subtitle: "Il colore che ti attrae di pi√π",
          options: [
            { icon: "‚ù§Ô∏è", text: "Rosso / Rosa", value: "ruby" },
            { icon: "üíô", text: "Blu / Viola", value: "sapphire" },
            { icon: "üíö", text: "Verde / Acquamarina", value: "emerald" },
            { icon: "ü§ç", text: "Bianco / Trasparente", value: "diamond" }
          ]
        },
        {
          question: "Come affronti le sfide?",
          subtitle: "Il tuo approccio ai problemi",
          options: [
            { icon: "üî•", text: "Con passione e determinazione", value: "ruby" },
            { icon: "üßò", text: "Con calma e riflessione", value: "sapphire" },
            { icon: "üå±", text: "Con creativit√† e adattamento", value: "emerald" },
            { icon: "üíé", text: "Con logica e precisione", value: "diamond" }
          ]
        },
        {
          question: "Cosa apprezzi di pi√π in un gioiello?",
          subtitle: "La caratteristica pi√π importante per te",
          options: [
            { icon: "üíñ", text: "Il colore intenso e vibrante", value: "ruby" },
            { icon: "üåô", text: "La profondit√† e il mistero", value: "sapphire" },
            { icon: "üçÄ", text: "L'unicit√† e la rarit√†", value: "emerald" },
            { icon: "‚≠ê", text: "La brillantezza e la purezza", value: "diamond" }
          ]
        },
        {
          question: "Quale elemento ti rappresenta?",
          subtitle: "L'elemento con cui ti senti in sintonia",
          options: [
            { icon: "üî•", text: "Fuoco - Energia e passione", value: "ruby" },
            { icon: "üíß", text: "Acqua - Saggezza e intuizione", value: "sapphire" },
            { icon: "üåç", text: "Terra - Stabilit√† e crescita", value: "emerald" },
            { icon: "üí®", text: "Aria - Libert√† e chiarezza", value: "diamond" }
          ]
        }
      ],
      results: {
        ruby: {
          name: "Rubino",
          icon: "‚ù§Ô∏è",
          color: "#e0115f",
          description: "Il Rubino √® la pietra della passione e del coraggio. Come te, emana energia, forza e determinazione. √à simbolo di amore profondo e vitalit√†. Le persone attratte dal rubino sono leader naturali con un cuore ardente.",
          traits: ["Passionale", "Coraggioso", "Energico", "Leader"],
          cta: "Scopri i nostri rubini"
        },
        sapphire: {
          name: "Zaffiro",
          icon: "üíô",
          color: "#0f52ba",
          description: "Lo Zaffiro rappresenta saggezza, lealt√† e nobilt√† d'animo. Come te, possiede una profondit√† che affascina e una calma che ispira fiducia. √à la pietra dei pensatori e dei cercatori di verit√†.",
          traits: ["Saggio", "Leale", "Riflessivo", "Intuitivo"],
          cta: "Scopri i nostri zaffiri"
        },
        emerald: {
          name: "Smeraldo",
          icon: "üíö",
          color: "#50c878",
          description: "Lo Smeraldo incarna la rinascita, la crescita e l'armonia con la natura. Come te, porta equilibrio e freschezza ovunque vada. √à la pietra dei creativi e di chi cerca connessione con il mondo naturale.",
          traits: ["Creativo", "Equilibrato", "Naturale", "Rinnovatore"],
          cta: "Scopri i nostri smeraldi"
        },
        diamond: {
          name: "Diamante",
          icon: "üíé",
          color: "#b9f2ff",
          description: "Il Diamante simboleggia purezza, forza invincibile e chiarezza mentale. Come te, brilla di luce propria e trasforma la pressione in bellezza. √à la pietra di chi punta all'eccellenza in ogni cosa.",
          traits: ["Brillante", "Forte", "Puro", "Perfezionista"],
          cta: "Scopri i nostri diamanti"
        }
      }
    };

    let currentQuestion = 0;
    let answers = [];

    function initQuiz() {
      showQuestion(0);
    }

    function showQuestion(index) {
      const question = quizData.questions[index];
      const progress = ((index) / quizData.questions.length) * 100;

      document.getElementById('progressBar').style.width = progress + '%';

      let html = `
        <div class="quiz-question">
          <p style="color: var(--color-accent); font-size: 0.9rem; margin-bottom: 0.5rem;">Domanda ${index + 1} di ${quizData.questions.length}</p>
          <h3>${question.question}</h3>
          <p>${question.subtitle}</p>
        </div>
        <div class="quiz-options">
      `;

      question.options.forEach((option, i) => {
        html += `
          <div class="quiz-option" onclick="selectOption(${i}, '${option.value}')">
            <div class="quiz-option-icon">${option.icon}</div>
            <h4>${option.text}</h4>
          </div>
        `;
      });

      html += `</div>
        <div class="quiz-nav">
          ${index > 0 ? '<button class="btn btn-outline" onclick="prevQuestion()">‚Üê Indietro</button>' : '<div></div>'}
          <span style="color: var(--color-gray);">${index + 1}/${quizData.questions.length}</span>
          <div></div>
        </div>
      `;

      document.getElementById('quizContent').innerHTML = html;
    }

    function selectOption(optionIndex, value) {
      answers[currentQuestion] = value;

      // Evidenzia la selezione
      document.querySelectorAll('.quiz-option').forEach((opt, i) => {
        opt.classList.remove('selected');
        if (i === optionIndex) opt.classList.add('selected');
      });

      // Vai alla prossima domanda dopo un breve delay
      setTimeout(() => {
        if (currentQuestion < quizData.questions.length - 1) {
          currentQuestion++;
          showQuestion(currentQuestion);
        } else {
          showResult();
        }
      }, 400);
    }

    function prevQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        showQuestion(currentQuestion);
      }
    }

    function showResult() {
      document.getElementById('progressBar').style.width = '100%';

      // Calcola il risultato pi√π frequente
      const counts = {};
      answers.forEach(a => {
        counts[a] = (counts[a] || 0) + 1;
      });
      const resultKey = Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);
      const result = quizData.results[resultKey];

      let traitsHtml = result.traits.map(t => `<span class="stone-property">${t}</span>`).join('');

      let html = `
        <div class="quiz-result">
          <div class="quiz-result-gem" style="color: ${result.color};">${result.icon}</div>
          <h2>La tua pietra √®: <span style="color: ${result.color};">${result.name}</span></h2>
          <p class="quiz-result-description">${result.description}</p>
          <div class="stone-properties" style="justify-content: center; margin-bottom: 2rem;">
            ${traitsHtml}
          </div>
          <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
            <a href="guida-pietre.html" class="btn btn-primary">${result.cta}</a>
            <button class="btn btn-outline" onclick="restartQuiz()">Rifai il Quiz</button>
          </div>
          <p style="margin-top: 2rem; color: var(--color-text-light); font-size: 0.9rem;">
            Vuoi un gioiello con ${result.name}? <a href="contatti.html">Contattaci</a> per una consulenza gratuita!
          </p>
        </div>
      `;

      document.getElementById('quizContent').innerHTML = html;
    }

    function restartQuiz() {
      currentQuestion = 0;
      answers = [];
      showQuestion(0);
    }

    // Inizializza il quiz
    document.addEventListener('DOMContentLoaded', initQuiz);
  </script>
</body>
</html>
